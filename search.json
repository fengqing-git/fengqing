[{"title":"Hello World","path":"/2022/12/13/hello-world/","content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)"},{"title":"zabbix6.0安装","path":"/2022/08/10/zabbix-6.0-install/","content":"<!-- more -->\n\n## 基础系统配置\n\n### 设置计算机名字\n\n~~~bash\nhostnamectl set-hostname zabbix #设置计算机名字\n~~~\n\n### 关闭selinux\n\n~~~bash\nsed -i 's/SELINUX=enforcing/SELINUX=disabled/' /etc/selinux/config # 关闭selinux\n~~~\n\n### 关闭防火墙\n\n~~~bash\nsystemctl stop firewalld # 立刻关闭防火墙\nsystemctl disable --now firewalld # 关闭开机自启动\n~~~\n\n### 重启系统\n\n~~~bash\nreboot # 重启\n~~~\n\n### 配置zabbix的rpm源\n\n~~~bash\nrpm -Uvh https://mirrors.aliyun.com/zabbix/zabbix/6.0/rhel/8/x86_64/zabbix-release-6.0-1.el8.noarch.rpm #安装aliyun的zabbix源\n~~~\n\n### 查看软件列表\n\n~~~bash\nyum list | grep zabbix* #列出所有zabbix的软件包，并查找zabbix，确认版本无误后再继续安装\n~~~\n\n![image-20220810091134871](../images/zabbix-6.0-install/image-20220810091134871.png)\n\n## 安装数据库\n\n### 数据库版本选择\n\n~~~bash\n#数据库版本选择看实际情况，如果公司里有数据库了，则新建一个库和用户，授权访问即可\n#如果没有就按下面的安装 一个新的就可以\n#我这里选择mysql8，也可以选择mariadb，两者有区别，建议官网自查\n~~~\n\n### 安装前\n\n~~~bash\n# 安装前要确认没有系统自带的mariadb，如果有要删掉\n~~~\n\n~~~bash\nrpm -qa | grep -i mariadb #搜索mariadb\n~~~\n\n~~~bash\nrpm -e --nodeps mariadb-libs-5.5.52-1.el7.x86_64 \nrpm -e --nodeps mariadb-connector-c-config-3.1.11-2.el8_3.noarch\n#删除搜索出来的包\nrpm -qa | grep -i mariadb  # 再次搜索确认\n~~~\n\n![image-20220810092428129](../images/zabbix-6.0-install/image-20220810092428129.png)\n\n### 配置mysql8的yum源\n\n~~~bash\nyum module disable mysql -y # 禁用自带的mysql\nrpm -Uvh https://dev.mysql.com/get/mysql80-community-release-el8-1.noarch.rpm # 配置新的源\nyum list | grep mysql* #查询mysql版本确认是需要的后再安装\n~~~\n\n![image-20220810093611644](../images/zabbix-6.0-install/image-20220810093611644.png)\n\n### 安装mysql\n\n```bash\nyum install mysql-community-server --nogpgcheck # 开始安装，由于用的是国外的默认源，速度快慢取决于网络，也可以挂代理\n```\n\n~~~bash\nvim /etc/yum.conf #编辑yum配置，添加代理\nproxy=http://proxyHost:proxyPort #选择自己的代理服务器\n~~~\n\n![image-20220810095228776](../images/zabbix-6.0-install/image-20220810095228776.png)\n\n### 启动mysql\n\n~~~bash\nservice mysqld start #启动\n~~~\n\n```bash\nsystemctl status mysqld # 查看状态\n```\n\n![image-20220810095358951](../images/zabbix-6.0-install/image-20220810095358951.png)\n\n### 查看mysql随机密码\n\n~~~bash\ngrep 'temporary password' /var/log/mysqld.log # 查看初始密码\n~~~\n\n![image-20220810095527666](../images/zabbix-6.0-install/image-20220810095527666.png)\n\n### 使用初始随机密码登陆\n\n~~~bash\nmysql -uroot -p #输入初始随机密码后可登录数据库\n~~~\n\n![image-20220810095655883](../images/zabbix-6.0-install/image-20220810095655883.png)\n\n### 初始化数据库设置\n\n~~~mysql\nALTER USER 'root'@'localhost' IDENTIFIED BY 'P@ssw0rd@123'; #修改密码为强密码\n#登陆进去后一定要先修改密码否则会报错:You must reset your password using ALTER USER statement before executing this statement\nSHOW VARIABLES LIKE 'validate_password%'; #查看当前密码策略\nset global validate_password.length=1; #修改密码长度\nset global validate_password.policy=0; #修改密码等级\nset global log_bin_trust_function_creators = 1; #创建Trigger\n#修改密码策略后才能更改简单的密码，这里按实际要求来，我问了方便修改了策略\nALTER USER 'root'@'localhost' IDENTIFIED BY 'P@ssw0rd@123';#修改自己想要的密码并授权licalhost登陆\nflush privileges; #刷新\n~~~\n\n![image-20220810100259922](../images/zabbix-6.0-install/image-20220810100259922.png)\n\n### 创建zabbix数据库\n\n~~~mysql\ncreate database zabbix character set utf8 collate utf8_bin; #创建数据库\ncreate user zabbix@'%' identified by 'zabbix@2022'; # 创建zabbix用户并授权所有可以访问mysql，密码为:zabbix@2022\ngrant all privileges on zabbix.* to zabbix@'%'; # 设置zabbix用户的数据库权限\nALTER USER zabbix@'%' IDENTIFIED WITH mysql_native_password BY 'zabbix@2022'; #设置允许密码登录\nflush privileges; #刷新\n~~~\n\n### 测试登陆\n\n~~~bash\nmysql -uzabbix -p #输入密码即可用zabbix用户登录数据库\n~~~\n\n~~~mysql\nshow databases; #查询数据库，可以看到zabbix表即可\n~~~\n\n![image-20220810101456754](../images/zabbix-6.0-install/image-20220810101456754.png)\n\n## 开始安装zabbix\n\n### 安装zabbix组件\n\n~~~bash\ndnf install zabbix-server-mysql zabbix-web-mysql zabbix-apache-conf zabbix-sql-scripts zabbix-selinux-policy zabbix-agent # 安装组件\n~~~\n\n### 配置zabbix\n\n~~~bash\nzcat /usr/share/doc/zabbix-sql-scripts/mysql/server.sql.gz | mysql -uzabbix -p # 导入初始架构和数据，系统将提示您输入新创建的密码\n~~~\n\n~~~bash\nvim /etc/zabbix/zabbix_server.conf #导入完成后编辑配置文件，把密码写入DBPassword=zabbix@2022\n~~~\n\n![image-20220810104226236](../images/zabbix-6.0-install/image-20220810104226236.png)\n\n### 启动zabbix\n\n~~~bash\nsystemctl restart zabbix-server zabbix-agent httpd php-fpm # 启动组件\nsystemctl enable zabbix-server zabbix-agent httpd php-fpm # 设置开机自启动\n~~~\n\n### 登陆前端\n\n```bash\n#连接到新安装的Zabbix前端： http://server_ip_or_name/zabbix\n```\n\n### 配置前端\n\n![image-20220810104512814](../images/zabbix-6.0-install/image-20220810104512814.png)\n\n选择next\n\n![image-20220810104545218](../images/zabbix-6.0-install/image-20220810104545218.png)\n\n选择next\n\n![image-20220810104610540](../images/zabbix-6.0-install/image-20220810104610540.png)\n\n此处输入zabbix数据库密码:zabbix@2022后点击next\n\n![image-20220810105149250](../images/zabbix-6.0-install/image-20220810105149250.png)\n\n输入想要的名字后点next\n\n![image-20220810105213601](../images/zabbix-6.0-install/image-20220810105213601.png)\n\n点击next\n\n![image-20220810105226548](../images/zabbix-6.0-install/image-20220810105226548.png)\n\n点完成\n\n![image-20220810105246986](../images/zabbix-6.0-install/image-20220810105246986.png)\n\n输入初始账号:Admin密码：zabbix\n\n![image-20220810105330222](../images/zabbix-6.0-install/image-20220810105330222.png)\n\n结束","tags":["zabbix","centos"],"categories":["zabbix"]}]